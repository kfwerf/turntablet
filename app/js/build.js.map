{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","app/js/es6/app.js","app/js/es6/com/codinginspace/audio/AudioChannel.js","app/js/es6/com/codinginspace/audio/AudioFilter.js","app/js/es6/com/codinginspace/audio/AudioFilters.js","app/js/es6/com/codinginspace/utils/Loader.js"],"names":[],"mappings":"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","file":"build.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nimport AudioChannel from './com/codinginspace/audio/AudioChannel';\n\nlet AudioContext = window.AudioContext || window.webkitAudioContext;\nlet objCurrentContext = new AudioContext();\n\nlet objAudioChannel = new AudioChannel(objCurrentContext, {\n  audioFile: 'http://localhost/turntablet/app/audio/demo.mp3',\n  channelId: 0\n});\n\nwindow.objAudioChannel = objAudioChannel;\n","'use strict';\n\nimport Loader from '../utils/Loader';\nimport AudioFilters from './AudioFilters';\n\n/**\n * @author Kenneth van der Werf\n * @class AudioChannel\n * @version 0.1\n * @description Module for creating a audio channel with effects\n * @dependencies Loader and AudioFilter\n */\nexport default class AudioChannel {\n  constructor(objAudioContext, objAudioInformation = false) {\n    this.objAudioContext = objAudioContext;\n    this.objAudioInformation = objAudioInformation;\n    if (objAudioInformation) {\n      this.loadAudioChannel(objAudioInformation);\n    }\n  }\n  loadAudioChannel(objAudioInformation = this.objAudioInformation) {\n    this.objAudioInformation = objAudioInformation;\n    /**\n     * Download array buffer from file\n     * Convert to audio buffer for audio context usage\n     * Attach as buffer to new buffer source\n     * Attach audio filters API\n     */\n    console.log('AudioChannel', `Loading file ${this.objAudioInformation.audioFile}`);\n    new Loader(this.objAudioInformation.audioFile)\n      .then((arrBuffer) => {\n        this.objAudioContext\n          .decodeAudioData(arrBuffer, (arrAudioBuffer) => {\n            this.arrAudioBuffer = arrAudioBuffer;\n            this.objAudioSource = this.objAudioContext.createBufferSource();\n            this.objAudioSource.buffer = this.arrAudioBuffer;\n            this.objAudioFilters = new AudioFilters(\n              this.objAudioContext, this.objAudioSource\n            );\n            this.objAudioFilters.doCoupling();\n            console.log('AudioChannel', 'File loaded and coupled. Audio channel is ready for usage.');\n          });\n      });\n  }\n  setFilterValue(strFilterType, numFilterValue) {\n    if (this.objAudioFilters) {\n      let objFilter = this.objAudioFilters.getFilter(strFilterType)\n      if (objFilter) {\n        objFilter.setValue(numFilterValue);\n        return objFilter;\n      }\n    }\n  }\n};\n","'use strict';\n\n/**\n * @author Kenneth van der Werf\n * @class AudioFilter\n * @version 0.1\n * @description Module for setting up an individual audio filter\n */\nexport default class AudioFilter {\n  constructor(objAudioContext, strType = 'volume', numAmount = 0) {\n    this.objAudioContext = objAudioContext;\n    this.strType = strType;\n    this.numAmount = numAmount;\n\n    switch (strType) {\n    case 'volume':\n      this.objAudio = this.objAudioContext.createGain();\n      this.objAudio.gain.volume = this.numAmount;\n      break;\n    case 'gain':\n      this.objAudio = this.objAudioContext.createGain();\n      this.objAudio.gain.value = this.numAmount;\n      break;\n    case 'low':\n      this.objAudio = this.objAudioContext.createBiquadFilter();\n      this.objAudio.type = 'lowshelf';\n      this.objAudio.frequency.value = 500;\n      this.objAudio.gain.value = this.numAmount;\n      break;\n    case 'mid':\n      this.objAudio = this.objAudioContext.createBiquadFilter();\n      this.objAudio.type = 'peaking';\n      this.objAudio.frequency.value = 750;\n      this.objAudio.gain.value = this.numAmount;\n      break;\n    case 'high':\n      this.objAudio = this.objAudioContext.createBiquadFilter();\n      this.objAudio.type = 'highshelf';\n      this.objAudio.frequency.value = 1000;\n      this.objAudio.gain.value = this.numAmount;\n      break;\n    }\n  }\n  setValue(numAmount = 0) {\n    this.numAmount = numAmount;\n    if (this.strType === 'volume') {\n      this.objAudio.gain.volume = numAmount;\n    } else {\n      this.objAudio.gain.value = numAmount;\n    }\n  }\n  getCore() {\n    return this.objAudio;\n  }\n  getValue() {\n    return this.objAudio.gainvalue;\n  }\n}\n","'use strict';\n\nimport AudioFilter from './AudioFilter';\n\n/**\n * @author Kenneth van der Werf\n * @class AudioFilters\n * @version 0.1\n * @description Module for handling multiple audio filters and coupling them\n * @dependencies AudioFilter\n */\nexport default class AudioFilters {\n  constructor(objAudioContext, objAudioSource) {\n    this.objAudioContext = objAudioContext;\n    this.objAudioSource = objAudioSource;\n    this.objFilters = {\n      volume: new AudioFilter(this.objAudioContext, 'volume', 1),\n      gain: new AudioFilter(this.objAudioContext, 'gain', 1),\n      low: new AudioFilter(this.objAudioContext, 'low', 0),\n      mid: new AudioFilter(this.objAudioContext, 'mid', 0),\n      high: new AudioFilter(this.objAudioContext, 'high', 0)\n    };\n    this.arrCouplingOrder = [\n      'volume',\n      'gain',\n      'low',\n      'mid',\n      'high'\n    ];\n  }\n  doCoupling() {\n    var objPreviousFilter = this.objAudioSource,\n      objCurrentFilter = this.getFilter(this.arrCouplingOrder[0]).getCore();\n    this.arrCouplingOrder.forEach( (strCurrentFilterType, numIndex) => {\n      let strPreviousFilterType = this.arrCouplingOrder[numIndex - 1] || 'audiosource';\n      if (strPreviousFilterType !== 'audiosource') {\n        objCurrentFilter = this.getFilter(strCurrentFilterType).getCore();\n        objPreviousFilter = this.getFilter(strPreviousFilterType).getCore();\n      }\n      console.log('AudioFilters', `Coupling filter ${strPreviousFilterType} with ${strCurrentFilterType}`);\n      objPreviousFilter.connect(objCurrentFilter);\n    });\n    objCurrentFilter.connect(this.objAudioContext.destination);\n  }\n  getFilter(strFilterType = 'volume') {\n    return this.objFilters[strFilterType] || {\n      getValue: function  () {\n        console.warn('AudioFilters', `Could not get a value for ${strFilterType}`);\n        return 0;\n      },\n      setValue: function (numValue) {\n        console.warn('AudioFilters', `Could not set ${numValue} for ${strFilterType}`);\n      }\n    };\n  }\n};\n","'use strict';\n\n/**\n * @author Kenneth van der Werf\n * @class Loader\n * @version 0.1\n * @description Module for loading XHR requests with promise structure\n */\nexport default class Loader {\n  constructor(strFile, strResponseType = 'arraybuffer', strSendType = 'GET') {\n    return new Promise((resolve, reject) => {\n      let objLoader = new XMLHttpRequest();\n      objLoader.open(strSendType, strFile, true);\n      objLoader.responseType = strResponseType;\n      objLoader.onload = () => {\n        if (objLoader.response) {\n          resolve(objLoader.response);\n        } else {\n          reject();\n        }\n      };\n      objLoader.onerror = () => {\n        reject();\n      };\n      objLoader.send();\n    });\n  }\n};\n"]}